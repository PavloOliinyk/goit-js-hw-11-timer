{"version":3,"sources":["js/countdown-timer.js","index.js"],"names":["CountdownTimer","constructor","selector","targetDate","makeMarkup","div","document","createElement","classList","add","id","innerHTML","body","appendChild","runCountdownTimer","deadline","newTimerId","timerId","setInterval","updateCountdownTime","timerWrapper","getElementById","time","Date","now","Refs","days","querySelector","hours","mins","secs","Math","floor","textContent","clearInterval","timer"],"mappings":";AA2FA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EA3FA,MAAMA,EAIJC,aAAY,SAAEC,EAAF,WAAYC,IAAc,EAAA,KAAA,eAAA,GAAA,EAAA,KAAA,gBAAA,GAC/BD,KAAAA,SAAWA,EACXC,KAAAA,WAAaA,EAGpBC,aACQC,MAAAA,EAAMC,SAASC,cAAc,OACnCF,EAAIG,UAAUC,IAAI,SAClBJ,EAAIK,GAAK,KAAKR,SACdG,EAAIM,UAAa,ijBA4BjBL,SAASM,KAAKC,YAAYR,GAG5BS,oBACQC,MAAAA,EAAW,KAAKZ,WAChBa,EAAa,KAAKd,SAEnBe,KAAAA,QAAUC,YAAY,KAAKC,oBAAqB,IAAMJ,EAAUC,GAGvEG,oBAAoBJ,EAAUC,GACtBI,MAAAA,EAAed,SAASe,kBAAkBL,KAC1CM,EAAOP,EAAWQ,KAAKC,MAEvBC,EAAO,CACXC,KAAMN,EAAaO,cAAc,uBACjCC,MAAOR,EAAaO,cAAc,wBAClCE,KAAMT,EAAaO,cAAc,uBACjCG,KAAMV,EAAaO,cAAc,wBAG7BD,EAAOK,KAAKC,MAAMV,EAAQ,OAC1BM,EAAQG,KAAKC,MAAOV,EAAQ,MAAyB,MACrDO,EAAOE,KAAKC,MAAOV,EAAQ,KAAoB,KAC/CQ,EAAOC,KAAKC,MAAOV,EAAQ,IAAc,KAE3CA,GAAAA,GAAQ,EAKV,OAJAG,EAAKC,KAAKO,YAAcP,EACxBD,EAAKG,MAAMK,YAAcL,EACzBH,EAAKI,KAAKI,YAAcJ,OACxBJ,EAAKK,KAAKG,YAAcH,GAI1BL,EAAKC,KAAKO,YAAc,KACxBR,EAAKG,MAAMK,YAAc,KACzBR,EAAKI,KAAKI,YAAc,KACxBR,EAAKK,KAAKG,YAAc,KAExBC,cAAc,KAAKjB,UAKvB,MAAMkB,EAAQ,IAAInC,EAAe,CAC/BE,SAAU,WACVC,WAAY,IAAIoB,KAAK,kBAGvBY,EAAM/B,aACN+B,EAAMrB;;AC3FN,aAAA,QAAA","file":"src.61ee3db9.js","sourceRoot":"../src","sourcesContent":["class CountdownTimer {\n  timerId;\n  selector;\n\n  constructor({ selector, targetDate }) {\n    this.selector = selector;\n    this.targetDate = targetDate;\n  }\n\n  makeMarkup() {\n    const div = document.createElement('div');\n    div.classList.add('timer');\n    div.id = this.selector;\n    div.innerHTML = `<div class='field'>\n    <span class='value' data-value='days'>\n      11\n    </span>\n    <span class='label'>Days</span>\n  </div>\n\n  <div class='field'>\n    <span class='value' data-value='hours'>\n      11\n    </span>\n    <span class='label'>Hours</span>\n  </div>\n\n  <div class='field'>\n    <span class='value' data-value='mins'>\n      11\n    </span>\n    <span class='label'>Minutes</span>\n  </div>\n\n  <div class='field'>\n    <span class='value' data-value='secs'>\n      11\n    </span>\n    <span class='label'>Seconds</span>\n  </div>`;\n\n    document.body.appendChild(div);\n  }\n\n  runCountdownTimer() {\n    const deadline = this.targetDate;\n    const newTimerId = this.selector;\n\n    this.timerId = setInterval(this.updateCountdownTime, 1000, deadline, newTimerId);\n  }\n\n  updateCountdownTime(deadline, newTimerId) {\n    const timerWrapper = document.getElementById(`${newTimerId}`);\n    const time = deadline - Date.now();\n\n    const Refs = {\n      days: timerWrapper.querySelector('[data-value=\"days\"]'),\n      hours: timerWrapper.querySelector('[data-value=\"hours\"]'),\n      mins: timerWrapper.querySelector('[data-value=\"mins\"]'),\n      secs: timerWrapper.querySelector('[data-value=\"secs\"]'),\n    };\n\n    const days = Math.floor(time / (1000 * 60 * 60 * 24));\n    const hours = Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    const mins = Math.floor((time % (1000 * 60 * 60)) / (1000 * 60));\n    const secs = Math.floor((time % (1000 * 60)) / 1000);\n\n    if (time >= 0) {\n      Refs.days.textContent = days;\n      Refs.hours.textContent = hours;\n      Refs.mins.textContent = mins;\n      Refs.secs.textContent = secs;\n      return;\n    }\n\n    Refs.days.textContent = '00';\n    Refs.hours.textContent = '00';\n    Refs.mins.textContent = '00';\n    Refs.secs.textContent = '00';\n\n    clearInterval(this.timerId);\n  }\n}\n\n// Во время вызова экземпляра класса прописать selector: '#timer'\nconst timer = new CountdownTimer({\n  selector: '#timer-1',\n  targetDate: new Date('Jul 31, 2021'),\n});\n\ntimer.makeMarkup();\ntimer.runCountdownTimer();\n","import './js/countdown-timer';\n"]}